<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>

/*


> 组件化开发:

主要就是把一个大的功能拆分成若干个小的功能，解决高耦合的问题，
方便开发人员维护。

component（组件）    数据传递，容易晕
    Vue.component(组件的名称,对象)   必须放在根实例的上面.
    
    {
        template:`<div>子级</div>`,
        data,
        methods,
        computed
    }
```

> 命名规则:
    `尽量不要使用驼峰命名法`
    

> 小技巧:

```
    创建组件时的名字和引入组件的名字最好一样
    比如:
        Vue.component('pp-x')   创建组件时的名字
        <pp-x></pp-x>   引入组件的名字
```
> 注意：

```
    如果要写成驼峰命名，引入组件名字的时候，大写变小写，中间带-
    所谓的烤串命名法

    比如:
        Vue.component('ppX')
        <pp-x></pp-x>

    font-size  -> fontSize
    
```

> 写组件的方式:

```
    1.Vue.component('名字',{})
    2.new Vue()
    3.引入: <组件的名字>

{
    template:`<div id="box">
        <div></div>
    </div>`
}
```

 在template中，顶层只能有一个元素,比如上面代码的#box

***在子组件中，data必须为函数，函数中返回一个对象，对象下挂数据。

> 传递数据


### 传递数据
 
```
传递数据:
1.在组件上挂上一个自定义的属性
2.子组件上设置一个props接收
props可以为一个数组，数组里面写自定义属性的名字即可

比如:
    <ppa d="传进来的数据"></pp>
    {
        props:['d'],
        template:`
            <div>{{d}}</div>   //这里的d就是自定义属性的名字
        `
    }

```

> 父级数据传递给子级:

```
1.通过在子组件的身上加一个v-bind:自定义属性名=父级的数据
    <ppa v-bind:data="arr"> ->简写 <ppa :data="arr">

2.子组件通过props去接收
    props:['data']

3.使用
        {{data}}
```
### 检测传入的数据

> 在传入数据的时候  可以检测当前是否传入想要的类型的数据

```
注意:
    自定义属性不要和子组件的数据名一样。

    props可以为数组也可以为对象，数组的时候传字符串，使用对象
    的时候是为了启用高级配置（传入数据类型的检测、自定义校验和设置默认值）


    在传入数据的时候，类型检测会帮助你更快的锁定问题（故意报错）

    kw:{
        type:Number,  数据类型
        default:128   如果子组件上没有这个属性，默认走default
    }


例：子组件接收传过来的数据的时候
    props:{
            kw:{
                //检测数据类型
                type:Number,
                //如果没有这个属性就走默认的这个
                default:128
            },
            sex:String,
            v:String
        },
```

### 子级传入父级

`数据从父级流向子级，数据本身还是父级的，如果操作子级要改变父级的数据，只能通过子级告知父级要操作哪个数据，然后让父级去修改数据。（简单说就是子级不能修改父级的数据，让父级改自己的数据）`


> ***双向数据绑定（数据和视图）

> ***单向数据流动（父级数据和子级数据的流动）



```

子传父:
1.在子组件上绑定一个自定义的事件，并且传入父级的“事件”处理函数
    比如:
        <ppa @changeboolean="changC">

            @changeboolean 是子组件定义的
            changC 父组件中定义的

2.在子组件内部监听这个自定义的事件(满足自定义函数的条件就执行)
    this.$emit(自定义的事件名,参数)

    比如:
        change(){
             this.$emit('changeboolean',id,xx)
        }


```
> 自己想要直接操作父级的数据的能力的时候

如果要让子级有功能（操作父级数据的能力），那么可以把父级传进来的数据变成自己的
子级改变自己的数据，是不会影响父级的数据。


步骤:
    1.传数据
        :data="arr"

    2.接收数据：props:['data']

    3.data(){   把父级传过来的数据变成自己的
        return {
            cd:this.data
        }
    }

    4.`<div>{{cd}}</div>`  使用自己的数据

注意:
    如果父级传进来的数据是复合类型（引用类型）的，那么变成自己
    的数据时，要深拷贝一下，不然改变子级会影响父级。

*/ 


</script>
</body>
</html>